!function(n){"object"==typeof exports?module.exports=n():"function"==typeof define&&define.amd?define(n):ENTITY_WHARF=n()}(function(){var n="$:?:$",t=function(t){return"object"==typeof t?n+"object":"function"==typeof t?n+"function":t},e=function(n){return!!n&&"object"==typeof n&&n.constructor===Object},r=Object.keys,o=function(n,t){return n.hasOwnProperty(t)},u=function(n,t,e){o(n,t)||(n[t]={}),n[t][e]=!0},c=function(n,t,e){o(n,t)&&delete n[t][e]};return function(){var n=function(){var n=0;return function(){return n++,n+""}}(),f={},i={},a={},d=function(n){return o(f,n)},p=function(n,o){return d(n)&&e(o)?(r(o).forEach(function(e){var r=o[e];f[n][e]=r,u(i,e,n),u(a,t(r),n)}),!0):!1};return{get:function(n){return d(n)?f[n]:null},add:function(t){var e=n();return f[e]={},p(e,t)?e:(delete f[e],!1)},set:p,remove:function(n){return d(n)?(r(f[n]).forEach(function(e){c(i,e,n),c(a,t(f[n][e]),n)}),delete f[n],!0):!1},q:function(){return r(f)}}}});